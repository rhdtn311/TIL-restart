## ì‹±ê¸€í†¤ íŒ¨í„´
### ê°œë…
>**ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ê°€ ë”± í•˜ë‚˜ë§Œ ì¡´ì¬í•¨ì„ ë³´ì¥í•œë‹¤.**

### ì½”ë“œë¡œ ì´í•´í•˜ëŠ” ì‹±ê¸€í†¤
```kotlin
class DatabaseManager private constructor() {

Â  Â  companion object {
Â  Â  Â  Â  private var instance: DatabaseManager? = null
Â  Â  Â  Â  fun getInstance(): DatabaseManager {
Â  Â  Â  Â  Â  Â  if (instance == null) {
Â  Â  Â  Â  Â  Â  Â  Â  instance = DatabaseManager()
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return instance!!
Â  Â  Â  Â  }
Â  Â  }

Â  Â  fun connect() {
Â  Â  Â  Â  println("DB ì—°ê²°")
Â  Â  }
}
  
fun main() {
Â  Â  val db1 = DatabaseManager.getInstance()
Â  Â  val db2 = DatabaseManager.getInstance()
Â  Â  println(db1 === db2) // true
Â  Â  db1.connect()
}
```

### Kotlinì—ì„œì˜ ì‹±ê¸€í†¤
#### object
ì½”í‹€ë¦°ì—ì„œ `object` í‚¤ì›Œë“œë¡œ ìƒì„±í•œ ê°ì²´ëŠ” ì‹±ê¸€í†¤ìœ¼ë¡œ ê´€ë¦¬ëœë‹¤.
```kotlin
object SystemConfig {
    const val TIMEOUT = 3000L
    fun printConfig() = println("Timeout: $TIMEOUT")
}
```
ìœ„ì™€ ê°™ì´ `object` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ë©´ ì–¸ì–´ ì°¨ì›ì—ì„œ í´ë˜ìŠ¤ ë¡œë” ë‚´ì— ìœ ì¼í•œ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. Thread-safeí•˜ë©°, ìƒì„± ì‹œì ì€ í•´ë‹¹ ê°ì²´ì— ì²˜ìŒ ì ‘ê·¼í•˜ëŠ” ì‹œì ì´ë‹¤.

### Springì—ì„œì˜ ì‹±ê¸€í†¤
#### ìŠ¤í”„ë§ ë¹ˆ
```kotlin
@Service
@Scope(value = "singleton")
class OrderService {
    fun createOrder() { ... }
}
```
ìŠ¤í”„ë§ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ìƒì„±í•  ë•Œ ì‹±ê¸€í†¤ìœ¼ë¡œ ìƒì„±í•œë‹¤. ì´ë•Œ, `@Scope` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì–´ë–¤ ìŠ¤ì½”í”„ì˜ ë¹ˆìœ¼ë¡œ ìƒì„±í• ì§€ ê²°ì •í•  ìˆ˜ ìˆì§€ë§Œ ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‹±ê¸€í†¤ì´ë‹¤.

---
## í”„ë¡ì‹œ íŒ¨í„´
### ê°œë…
>**ì–´ë–¤ ê°ì²´ì— ì ‘ê·¼í•˜ê¸° ì „ì— ëŒ€ë¦¬ ê°ì²´(Proxy)ê°€ ëŒ€ì‹  ì•ì— ì„œì„œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê±°ë‚˜ ê°€ë¡œì±„ëŠ” êµ¬ì¡°**

### ì½”ë“œë¡œ ì´í•´í•˜ëŠ” í”„ë¡ì‹œ íŒ¨í„´
```kotlin
interface PaymentService {
    fun pay(amount: Int)
}

class RealPaymentService : PaymentService {
    override fun pay(amount: Int) {
        println("$amount ì› ê²°ì œ ë¡œì§ ìˆ˜í–‰ ì¤‘... (DB ì €ì¥ ë“±)")
    }
}

class TransactionalProxy(private val target: PaymentService) : PaymentService {
    override fun pay(amount: Int) {
        println("ğŸŸ¢ [Transaction Start] íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.")
        
        try {
            target.pay(amount)
        } catch (e: Exception) {
            println("[Rollback] ë¬¸ì œê°€ ìƒê²¨ ë¡¤ë°±í•©ë‹ˆë‹¤.")
            throw e
        }
        
        println("[Commit] íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•©ë‹ˆë‹¤.") 
    }
}

fun main() {
    val service: PaymentService = TransactionalProxy(RealPaymentService())
    service.pay(10000)
}
```
- `PamentService`: ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•  ê°ì²´ì™€ í”„ë¡ì‹œ ê°ì²´ê°€ êµ¬í˜„í•  ì¸í„°í˜ì´ìŠ¤
- `RealPaymentService`: ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ê³  ìˆëŠ” ê°ì²´
- `TransactionalProxy`: í”„ë¡ì‹œ ê°ì²´ë¡œ, ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ê³ ìˆëŠ” ê°ì²´ê°€ ì²˜ë¦¬í•  ìš”ì²­ì„ ëŒ€ì‹  ë°›ì•„ì„œ ì²˜ë¦¬í•¨

### Kotlinì—ì„œì˜ í”„ë¡ì‹œ íŒ¨í„´
#### `by`
ì½”í‹€ë¦°ì—ì„œ ì œê³µí•˜ëŠ” `by` í‚¤ì›Œë“œë¥¼ í™œìš©í•˜ë©´ í”„ë¡ì‹œ íŒ¨í„´ì„ ë” ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
```kotlin 
interface PaymentService {  
    fun pay(amount: Int)  
    fun refund(amount: Int)  
    fun checkPaymentHistory()  
}  
  
class PaymentServiceImpl : PaymentService {  
    override fun pay(amount: Int) {  
        println("Paying $amount")  
    }  
  
    override fun refund(amount: Int) {  
        println("Refunding $amount")  
    }  
  
    override fun checkPaymentHistory() {  
        println("Checking payment history")  
    }  
}  
  
class ProxyPaymentService(private val paymentService: PaymentService) : PaymentService {  
    override fun pay(amount: Int) {  
        println("Calling payment service")  
        paymentService.pay(amount)  
        println("Payment service called")  
    }  
  
    override fun refund(amount: Int) {  
        println("Calling refund service")  
        paymentService.refund(amount)  
        println("Refund service called")  
    }  
  
    override fun checkPaymentHistory() {  
        paymentService.checkPaymentHistory()  
    }  
}

fun main() {  
    val paymentService = ProxyPaymentService(PaymentServiceImpl())  
    paymentService.pay(100)  
    println()  
    paymentService.refund(100)  
    println()  
    paymentService.checkPaymentHistory()  
}  
```
ìœ„ì™€ ê°™ì´ í”„ë¡ì‹œ íŒ¨í„´ì„ ì ìš©í–ˆì„ ê²½ìš°, `checkPaymentHistory()` ë©”ì„œë“œëŠ” ì›ë³¸ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ ê·¸ëƒ¥ í˜¸ì¶œí•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  í”„ë¡ì‹œ ê°ì²´ì—ì„œ `override` í•´ì£¼ì–´ì•¼ í•œë‹¤.

ì´ë¥¼ `by` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
```kotlin
class ProxyPaymentService(private val paymentService: PaymentService) : PaymentService by paymentService {  
    override fun pay(amount: Int) {  
        println("Calling payment service")  
        paymentService.pay(amount)  
        println("Payment service called")  
    }  
  
    override fun refund(amount: Int) {  
        println("Calling refund service")  
        paymentService.refund(amount)  
        println("Refund service called")  
    }  
}
```

### Springì—ì„œì˜ í”„ë¡ì‹œ íŒ¨í„´
#### AOP
```kotlin
@Service
class PaymentService {
	@Transactional
	fun pay() { ... }
}
```
ìœ„ì™€ ê°™ì´ ìŠ¤í”„ë§ ë¹ˆ ë‚´ë¶€ì˜ ë©”ì†Œë“œì— `@Transactional`ê³¼ ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì´ ì ìš©ëœ ë©”ì†Œë“œê°€ ìˆë‹¤ë©´ ìŠ¤í”„ë§ì€ í•´ë‹¹ ë¹ˆì„ ë“±ë¡í•  ë•Œ `PaymentService`ì˜ í”„ë¡ì‹œ ê°ì²´ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.
ê·¸ë¦¬ê³ , í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ íƒ€ì…ì˜ ë¹ˆì„ ì‚¬ìš©í•  ë•Œ, í”„ë¡ì‹œ íƒ€ì…ì˜ ë¹ˆì„ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•œë‹¤.
```kotlin
class PaymentServiceProxy(
    private val target: PaymentService,
    private val txManager: PlatformTransactionManager
) : OrderService() {

    override fun pay() {
        val tx = txManager.getTransaction(DefaultTransactionDefinition())
        try {
            target.pay()
            txManager.commit(tx)
        } catch (e: Exception) {
            txManager.rollback(tx)
            throw e
        }
    }
}
```
ë‚´ë¶€ì ìœ¼ë¡œ ìœ„ì™€ ê°™ì€ êµ¬ì¡°ì˜ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

## ì „ëµ íŒ¨í„´
### ê°œë…
> ì•Œê³ ë¦¬ì¦˜(ì „ëµ)ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê³  ì‹¤í–‰ ì‹œì ì— ì‚¬ìš©í•  ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

### êµ¬ì„±
| **êµ¬ì„± ìš”ì†Œ**                      | **ì—­í• **                          |
| ------------------------------ | ------------------------------- |
| **Strategy (ì „ëµ ì¸í„°í˜ì´ìŠ¤)**        | ì „ëµ(í–‰ë™)ì˜ ê³µí†µ ì¸í„°í˜ì´ìŠ¤                |
| **Concrete Strategy (ì „ëµ êµ¬í˜„ì²´)** | ì‹¤ì œ ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜í–‰                     |
| **Context (ë¬¸ë§¥)**               | ì „ëµì„ ì‚¬ìš©í•˜ëŠ” ìª½. ì–´ë–¤ ì „ëµì„ ì‚¬ìš©í• ì§€ ëŸ°íƒ€ì„ì— ì£¼ì… |
### ì½”ë“œë¡œ ì´í•´í•˜ëŠ” ì „ëµ íŒ¨í„´
#### ë¬¸ì œ ìƒí™©
```kotlin
fun calculatePrice(price: Int, type: String): Int {
    return if (type == "NAVER_PAY") {
        (price * 0.9).toInt()
    } else if (type == "KAKAO_PAY") {
        price - 1000
    } else if (type == "TOSS") {
        // ... ë˜ ë‹¤ë¥¸ ë¡œì§
        price
    } else {
        price
    }
}
```
ê²°ì œ ìˆ˜ë‹¨ë³„ë¡œ ì„œë¡œ ë‹¤ë¥¸ í• ì¸ ì •ì±…ì„ ì ìš©í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ ìœ„ì™€ ê°™ì´ ifë¬¸ì„ í†µí•´ íƒ€ì…ì„ í™•ì¸í•˜ê³  ì¡°ê±´ë³„ë¡œ ë¡œì§ì„ ë¶„ê¸°í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ì´ëŸ° ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆë‹¤.
- ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ calculatePrice í•¨ìˆ˜ë¥¼ ê³„ì† ìˆ˜ì •í•´ì•¼ í•œë‹¤.
- ì¡°ê±´ë¬¸ì´ ëŠ˜ì–´ë‚˜ë©´ ì½”ë“œ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§„ë‹¤. (ì¼ëª… if-else ì§€ì˜¥)
#### ì „ëµ íŒ¨í„´ ì ìš©
ìœ„ ë¬¸ì œë¥¼ ì „ëµ íŒ¨í„´ì„ ì ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
```kotlin
// êµ¬í˜„
interface PaymentPolicy {
    fun discount(price: Int): Int
}
```
ë¨¼ì €, ê³µí†µ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ì „ëµ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤.

```kotlin
class NaverPayPolicy(private val rate: Double = 0.1) : PaymentPolicy {
    override fun discount(price: Int) = (price * (1 - rate)).toInt()
}

class KakaoPayPolicy : PaymentPolicy {
    override fun discount(price: Int) = price - 1000
}

class TossPayPolicy : PaymentPolicy {
    override fun discount(price: Int) = price
}
```
ê·¸ë¦¬ê³  ê° ê²°ì œ ìˆ˜ë‹¨ì˜ í• ì¸ ì •ì±…ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤.

```kotlin
class DiscountService(private var strategy: PaymentPolicy) {
    fun apply(price: Int): Int = strategy.discount(price)
}
```
ì „ëµì„ ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œëŠ” êµ¬ì²´ì ì¸ ì •ì±…ì„ ì§ì ‘ ì•Œ í•„ìš” ì—†ì´ ì „ëµ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•œë‹¤.

```kotlin
fun checkout(price: Int, policy: PaymentPolicy) {
    val finalPrice = policy.discount(price)
    println("ìµœì¢… ê²°ì œ ê¸ˆì•¡: $finalPrice")
}
```
ì‚¬ìš©í•  ë•ŒëŠ” ì›í•˜ëŠ” ì „ëµì„ ì£¼ì…í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

```kotlin
// êµ¬í˜„
enum class PaymentPolicy {  
    NAVER_PAY {  
        override fun discount(price: Int) = (price * 0.9).toInt()  
    },  
    KAKAO_PAY {  
        override fun discount(price: Int) = price - 1000  
    },  
    NORMAL {  
        override fun discount(price: Int) = price  
    };  
  
    abstract fun discount(price: Int): Int  
}  
  
// ì‚¬ìš©
fun checkout(price: Int, type: PaymentPolicy) {  
	val finalPrice = type.discount(price)  
	println("ìµœì¢… ê²°ì œê¸ˆì•¡: $finalPrice")  
}  
```
ì¶”ê°€ì ìœ¼ë¡œ, ì½”í‹€ë¦°ì—ì„œëŠ” ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ ì—†ì´ `Enum`ì„ í™œìš©í•˜ì—¬ ë” ê°„ë‹¨í•˜ê²Œ ì „ëµ íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

### ìŠ¤í”„ë§ì—ì„œì˜ ì „ëµ íŒ¨í„´
#### ìŠ¤í”„ë§ ë¹ˆì„ í™œìš©í•œ ì „ëµíŒ¨í„´
ìŠ¤í”„ë§ì—ì„œëŠ” ê°™ì€ íƒ€ì…ìœ¼ë¡œ ìƒì„±ëœ ë¹ˆì„ í™œìš©í•˜ì—¬ ì „ëµíŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.
```kotlin
// 1. ì „ëµ ì¸í„°í˜ì´ìŠ¤
interface PaymentStrategy {
    fun pay(amount: Int)
}

// 2. êµ¬í˜„ì²´ë“¤ (Beanìœ¼ë¡œ ë“±ë¡)
@Component("NAVER")
class NaverStrategy(val repository: LogRepository) : PaymentStrategy { ... }

@Component("KAKAO")
class KakaoStrategy(val client: ExternalApiClient) : PaymentStrategy { ... }

// 3. ì‚¬ìš©í•˜ëŠ” ê³³ (ì „ëµ ì£¼ì…)
@Service
class PaymentService(
    // Springì´ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë“¤ì„ Mapì— ë‹´ì•„ì¤ë‹ˆë‹¤. (Key: Beanì´ë¦„)
    private val strategies: Map<String, PaymentStrategy>
) {
    fun process(type: String, amount: Int) {
        val strategy = strategies[type] ?: throw IllegalArgumentException("ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²°ì œìˆ˜ë‹¨")
        strategy.pay(amount)
    }
}
```
ê°™ì€ íƒ€ì…(`PaymentStrategy`)ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡ëœ ë¹ˆë“¤ì— ëŒ€í•´ `Map<String, PaymentStrategy>`ë¥¼ ì£¼ì…ë°›ìœ¼ë©´ ìë™ìœ¼ë¡œ í•´ë‹¹ íƒ€ì…ì˜ êµ¬í˜„ì²´ë¥¼ `Map`ì— ë‹´ì•„ì¤€ë‹¤(ì´ë•Œ, keyëŠ” ë¹ˆì˜ ì´ë¦„ì´ë‹¤.). ì´ë¥¼ í™œìš©í•˜ì—¬ ìœ„ì™€ ê°™ì´ ê° êµ¬ì²´ì ì¸ ì „ëµì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³ , ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œ `Map`ìœ¼ë¡œ ì£¼ì…ë°›ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

#### HandlerMapping
ìš”ì²­ URLì„ ë³´ê³ , ì´ë¥¼ ì²˜ë¦¬í•  í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ” ê³¼ì •.
- ì „ëµ ì¸í„°í˜ì´ìŠ¤: `HandlerMapping`
- êµ¬ì²´ì ì¸ ì „ëµë“¤:
    - `RequestMappingHandlerMapping`: `@Controller`, `@GetMapping`ì´ ë¶™ì€ ë©”ì„œë“œë¥¼ ì°¾ëŠ”ë‹¤.
    - `BeanNameUrlHandlerMapping`: URLê³¼ ë˜‘ê°™ì€ ì´ë¦„ì„ ê°€ì§„ Beanì„ ì°¾ëŠ”ë‹¤.
    - `RouterFunctionMapping`: í•¨ìˆ˜í˜• ì—”ë“œí¬ì¸íŠ¸(`RouterFunction`)ë¥¼ ì°¾ëŠ”ë‹¤.

## í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
### ê°œë…
>**ì•Œê³ ë¦¬ì¦˜ì˜ í° íë¦„(ê³¨ê²©)ì€ ë¶€ëª¨ í´ë˜ìŠ¤ê°€ ì •ì˜í•˜ê³ , ì„¸ë¶€ ë™ì‘ì€ ìì‹ í´ë˜ìŠ¤ê°€ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ êµ¬í˜„í•˜ëŠ” íŒ¨í„´**

### ì½”ë“œë¡œ ì´í•´í•˜ëŠ” ì „ëµ íŒ¨í„´
```kotlin
// í…œí”Œë¦¿ 
abstract class DayRoutine() {  
    abstract val isProgrammingDay: Boolean  
  
    private fun arriveToWork() {  
        println("íšŒì‚¬ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤.")  
    }  
  
    private fun drinkCoffee() {  
        println("ì»¤í”¼ë¥¼ ë§ˆì‹­ë‹ˆë‹¤.")  
    }  
  
    abstract fun doMeeting()  
    open fun doPairProgramming() {  
        println("í˜ì–´í”„ë¡œê·¸ë˜ë°ì„ ì§„í–‰í•©ë‹ˆë‹¤.")  
    }  
  
    private fun goHome() {  
        println("í‡´ê·¼í•©ë‹ˆë‹¤.")  
    }  
  
    fun goToWork() {  
        arriveToWork()  
        drinkCoffee()  
        doMeeting()  
        if (isProgrammingDay) {  
            doPairProgramming()  
        }  
        goHome()  
    }  
}  
  

class MondayDayRoutine(): DayRoutine() {  
    override val isProgrammingDay: Boolean get() = true  
  
    override fun doMeeting() {  
        println("ë°±ì—”ë“œ ìœ„í´ë¦¬ ë¯¸íŒ…ì„ ì§„í–‰í•©ë‹ˆë‹¤.")  
    }  
  
    override fun doPairProgramming() {  
        println("í˜ì–´í”„ë¡œê·¸ë˜ë°ì„ ì§„í–‰í•©ë‹ˆë‹¤.")  
    }  
}  
  
class TuesdayDayRoutine(): DayRoutine() {  
    override val isProgrammingDay: Boolean get() = false  
  
    override fun doMeeting() {  
        println("í™”ìš”ì¼ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì„ ì§„í–‰í•©ë‹ˆë‹¤.")  
    }  
}

fun main() {  
    val mondayDayRoutine = MondayDayRoutine()  
    mondayDayRoutine.goToWork()  
  
    val tuesdayDayRoutine = TuesdayDayRoutine()  
    tuesdayDayRoutine.goToWork()  
}  
```

1. ë³€í•˜ì§€ ì•ŠëŠ” íë¦„(í…œí”Œë¦¿): `goToWork()`
   goToWork()ëŠ” ë‹¤ìŒ ë‹¨ê³„ë“¤ì„ **ê³ ì •ëœ ìˆœì„œë¡œ** ì‹¤í–‰í•œë‹¤.
- íšŒì‚¬ ë„ì°©
- ì»¤í”¼ ë§ˆì‹œê¸°
- ë¯¸íŒ…í•˜ê¸° (ë³€ê²½ë¨)
- í”„ë¡œê·¸ë˜ë° ì—¬ë¶€ì— ë”°ë¼ í˜ì–´í”„ë¡œê·¸ë˜ë° (ë³€ê²½ë  ìˆ˜ ìˆìŒ)
- í‡´ê·¼
  ì´ **ì „ì²´ ì•Œê³ ë¦¬ì¦˜ì˜ í‹€**ì´ í…œí”Œë¦¿ì´ë‹¤.

1. **ë³€í•˜ëŠ” ë¶€ë¶„:**Â **doMeeting()**, **doPairProgramming()**, **isProgrammingDay**
    - ìš”ì¼ë³„ë¡œ ë°”ë€ŒëŠ” ì—…ë¬´ëŠ” ìì‹ í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•œë‹¤.
        - doMeeting() â†’ ìš”ì¼ë³„ë¡œ ë‹¤ë¥¸ ë¯¸íŒ… ë‚´ìš©ì„ ì •ì˜
        - doPairProgramming() â†’ í•„ìš”í•œ ê²½ìš° ì˜¤ë²„ë¼ì´ë“œ
        - isProgrammingDay â†’ ë‹¹ì¼ì´ í”„ë¡œê·¸ë˜ë° ë°ì´ì¸ì§€ ì—¬ë¶€
          ì´ì²˜ëŸ¼ **í…œí”Œë¦¿ì´ ì •í•œ íë¦„ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì„¸ë¶€ êµ¬í˜„ë§Œ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë°”ê¿€ ìˆ˜ ìˆê²Œ í•˜ëŠ” êµ¬ì¡°**ê°€ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì˜ í•µì‹¬ì´ë‹¤.

### ìŠ¤í”„ë§ì—ì„œì˜ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
#### JdbcTemplate
í…œí”Œë¦¿ì˜ ë©”ì„œë“œì— íŒŒë¼ë¯¸í„°ë¡œ í•¨ìˆ˜(ì¸í„°í˜ì´ìŠ¤)ë¥¼ ë„˜ê²¨ì„œ ì±„ì›Œë„£ëŠ” ë°©ì‹
```java
@Nullable  
private <T> T execute(StatementCallback<T> action, boolean closeResources) throws DataAccessException {  
    Assert.notNull(action, "Callback object must not be null");  
  
    Connection con = DataSourceUtils.getConnection(obtainDataSource());  
    Statement stmt = null;  
    try {  
       stmt = con.createStatement();  
       applyStatementSettings(stmt);  
       T result = action.doInStatement(stmt);  
       handleWarnings(stmt);  
       return result;  
    }  
    catch (SQLException ex) {  
       // Release Connection early, to avoid potential connection pool deadlock  
       // in the case when the exception translator hasn't been initialized yet.       if (stmt != null) {  
          handleWarnings(stmt, ex);  
       }  
       String sql = getSql(action);  
       JdbcUtils.closeStatement(stmt);  
       stmt = null;  
       DataSourceUtils.releaseConnection(con, getDataSource());  
       con = null;  
       throw translateException("StatementCallback", sql, ex);  
    }  
    finally {  
       if (closeResources) {  
          JdbcUtils.closeStatement(stmt);  
          DataSourceUtils.releaseConnection(con, getDataSource());  
       }  
    }  
}
```
- `execute()`: ë³€í•˜ì§€ ì•ŠëŠ” íë¦„ìœ¼ë¡œ, ë©”ì„œë“œ ìì²´ê°€ í…œí”Œë¦¿ ë©”ì„œë“œì´ë‹¤.
    - ì»¤ë„¥ì…˜ íšë“
    - `Statement` ìƒì„±
    - ì¿¼ë¦¬ ì‹¤í–‰
    - ë¦¬ì†ŒìŠ¤ ì •ë¦¬
    - ì˜ˆì™¸ ë³€í™˜
- `StetementCallback<t> action`: ë³€í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ ê°œë°œìê°€ SQL ì‹¤í–‰ ë¡œì§ì„ ì£¼ì…í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.

## ì–´ëŒ‘í„° íŒ¨í„´
### ê°œë…
> í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ ê°ì²´ë¥¼, í´ë¼ì´ì–¸íŠ¸ê°€ ì›í•˜ëŠ” í˜•íƒœì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•´ì£¼ëŠ” íŒ¨í„´

### ì½”ë“œë¡œ ì´í•´í•˜ëŠ” ì „ëµ íŒ¨í„´
#### ë¬¸ì œ ìƒí™©
ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” `send(meesage)`ë¼ëŠ” ë©”ì„œë“œë¡œ ì•Œë¦¼ì„ ë³´ë‚¸ë‹¤. ê·¸ëŸ°ë°, ìƒˆë¡œ ë„ì…í•˜ë ¤ëŠ” `Slack` ì•ŒëŒ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” `post(channel, token, message)`ë¼ëŠ” ì•Œë¦¼ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.
```kotlin
class OrderService {
    fun completeOrder() {
        val slack = SlackClient()
        slack.post("#general", "TOKEN_123", "ì£¼ë¬¸ ì™„ë£Œ!") 
    }
}
```
ì´ëŸ° ê²½ìš°, ìœ„ì™€ ê°™ì´ ìš°ë¦¬ì˜ ì„œë¹„ìŠ¤ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ `Slack` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ë©´ ì•ˆëœë‹¤. ë§Œì•½, ìŠ¬ë™ ë©”ì‹œì§€ ì•Œë¦¼ì„ ì¹´ì¹´ì˜¤ ë©”ì‹œì§€ ì•ŒëŒìœ¼ë¡œ ë³€ê²½í•œë‹¤ë©´ ê¸°ì¡´ ì„œë¹„ìŠ¤ ì½”ë“œì— ëŒ€í•œ ìˆ˜ì •ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤.

#### ì–´ëŒ‘í„° íŒ¨í„´ ì ìš©
```kotlin
// ìš°ë¦¬ê°€ ì •ì˜í•œ ë©”ì‹œì§€ ì•Œë¦¼ ê·œê²©(ì¸í„°í˜ì´ìŠ¤)
interface NotificationPort {
    fun send(message: String)
}

// ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
class SlackClient {
    fun post(channel: String, token: String, content: String) {
        println("Slack ì „ì†¡ [$channel]: $content")
    }
}

// ì–´ëŒ‘í„°: ìš°ë¦¬ê°€ ì •ì˜í•œ ì¸í„°í˜ì´ìŠ¤ì™€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì—°ê²°ì±…
@Component
class SlackAdapter(
    private val slackClient: SlackClient,
    private val token: String
) : NotificationPort {
    
    override fun send(message: String) {
        slackClient.post("#general", token, message)
    }
}

// í´ë¼ì´ì–¸íŠ¸
@Service
class OrderService(
    private val notificationPort: NotificationPort
) {
    fun completeOrder() {
        notificationPort.send("ì£¼ë¬¸ ì™„ë£Œ!") // ìŠ¬ë™ì´ë“  ì¹´ì¹´ì˜¤ë“  ë³€í•˜ì§€ ì•ŠìŒ
    }
}
```
OrderServiceëŠ” ë” ì´ìƒ Slackì¸ì§€ Kakaoì¸ì§€ ì•Œ í•„ìš”ê°€ ì—†ë‹¤. ì˜¤ë¡œì§€ NotificationPortë§Œ ë°”ë¼ë³¸ë‹¤.
- ì•Œë¦¼ ìˆ˜ë‹¨ì„ Kakaoë¡œ ë³€ê²½í•´ë„
  â†’ OrderServiceëŠ” **ë³€ê²½ ì—†ìŒ**
- ì•Œë¦¼ ìˆ˜ë‹¨ì´ 5ê°œë¡œ ëŠ˜ì–´ë‚˜ë„
  â†’ OrderServiceëŠ” **ë³€ê²½ ì—†ìŒ**
  ì™„ì „í•œ ëŠìŠ¨í•œ ê²°í•©ì„ ë‹¬ì„±í•œë‹¤.

### ìŠ¤í”„ë§ì—ì„œì˜ ì–´ëŒ‘í„° íŒ¨í„´
#### HandlerAdapter
ìŠ¤í”„ë§ MVCëŠ” ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
- `@Controller, @RequestMApping`
- `Controller` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´
  ì´ë•Œ, ê° í•¸ë“¤ëŸ¬ë“¤ì˜ í˜¸ì¶œ í˜•ì‹ì€ ì„œë¡œ ë‹¤ë¥´ë‹¤.
```kotlin
// 1. `@Controller`
public Mono<HandlerResult> invoke(  
       ServerWebExchange exchange, BindingContext bindingContext, Object... providedArgs) { ... }
 
// 2.Controller 
@FunctionalInterface  
public interface Controller {  
    ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception;  
}
```
`DispatcherServlet`ì€ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ **ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œ**í•´ì•¼ í•˜ëŠ”ë°, í˜¸ì¶œ ë°©ì‹ì´ ë‹¤ë¥´ë¯€ë¡œ ì§ì ‘ ì²˜ë¦¬í•˜ë©´ ë³µì¡í•œ ë¶„ê¸° ì½”ë“œê°€ í•„ìš”í•˜ë‹¤.

**HandlerAdapter ì¸í„°í˜ì´ìŠ¤**
ìŠ¤í”„ë§ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ HandlerAdapterë¥¼ ë„ì…í–ˆë‹¤.
```kotlin
public interface HandlerAdapter {
	// íŠ¹ì • ì–´ëŒ‘í„°ê°€ ì´ í•¸ë“¤ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€
    boolean supports(Object handler);

    // í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ê³  ModelAndView ë°˜í™˜
    ModelAndView handle(HttpServletRequest request,
                        HttpServletResponse response,
                        Object handler) throws Exception;

    // ìš”ì²­ ì²˜ë¦¬ í›„ ë§ˆì§€ë§‰ ì²˜ë¦¬ ì‹œê°„
    long getLastModified(HttpServletRequest request, Object handler);
}
```
- `DispatcherServlet`ì€ **HandlerAdapterë§Œ í˜¸ì¶œ**í•˜ë©´ ëœë‹¤.
- ê° ì»¨íŠ¸ë¡¤ëŸ¬ íƒ€ì…ë³„ ì„¸ë¶€ í˜¸ì¶œ ë°©ì‹ì€ `HandlerAdapter`ê°€ ìº¡ìŠí™”í•œë‹¤.

**HandlerAdapter êµ¬í˜„ ì˜ˆì‹œ**
```kotlin
public class SimpleControllerHandlerAdapter implements HandlerAdapter {

    @Override
    public boolean supports(Object handler) {
        return (handler instanceof Controller);
    }

    @Override
    public ModelAndView handle(HttpServletRequest request,
                               HttpServletResponse response,
                               Object handler) throws Exception {
        Controller controller = (Controller) handler;
        return controller.handleRequest(request, response); // ì‹¤ì œ ì»¨íŠ¸ë¡¤ëŸ¬ í˜¸ì¶œ
    }
}

public class RequestMappingHandlerAdapter implements HandlerAdapter {

    @Override
    public boolean supports(Object handler) {
        return (handler instanceof HandlerMethod);
    }

    @Override
    public ModelAndView handle(HttpServletRequest request,
                               HttpServletResponse response,
                               Object handler) throws Exception {
        HandlerMethod method = (HandlerMethod) handler;
        return method.invokeAndHandle(request, response); // HandlerMethod í˜¸ì¶œ
    }
}
```

**DisPatcherServletì—ì„œì˜ í™œìš©**
```kotlin
val mv = adapter.handle(request, response, handler)
```
- DispatcherServletì€ **ì–´ëŒ‘í„°ì˜ ì¢…ë¥˜ë¥¼ ëª°ë¼ë„ ëœë‹¤**.
- HandlerAdapter ì¸í„°í˜ì´ìŠ¤ë§Œ í˜¸ì¶œí•˜ë©´, ì–´ëŒ‘í„°ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì‹¤ì œ ì»¨íŠ¸ë¡¤ëŸ¬ í˜¸ì¶œ ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•œë‹¤.

**ì–´ëŒ‘í„° íŒ¨í„´ ê´€ì  ì •ë¦¬**

| **ìš”ì†Œ**           | **ìŠ¤í”„ë§ MVC êµ¬ì„±**                                               |
| ---------------- | ------------------------------------------------------------ |
| Target Interface | HandlerAdapter ì¸í„°í˜ì´ìŠ¤ (DispatcherServletì´ ê¸°ëŒ€í•˜ëŠ” í˜¸ì¶œ ë°©ì‹)         |
| Adaptee (ì‹¤ì œ êµ¬í˜„)  | ë‹¤ì–‘í•œ ì»¨íŠ¸ë¡¤ëŸ¬(@RequestMapping, Controller êµ¬í˜„ì²´)                    |
| Adapter          | RequestMappingHandlerAdapter, SimpleControllerHandlerAdapter |
| Client           | DispatcherServlet                                            |

